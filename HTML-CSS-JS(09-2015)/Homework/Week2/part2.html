<!DOCTYPE html>
<html>
<head>
	<title>Color Guessing Game! Pt. 1</title>
</head>
<body onload="do_game()">
	<script>
		// Global variables
		var colors = [
			"black",
			"brown",
			"khaki",
			"lavender",
			"lawngreen",
			"orchid",
			"peru",
			"limegreen",
			"wheat",
			"fuchsia",
			"yellow",
			"firebrick",
			"maroon",
			"darkorange",
			"golden",
			"gray",
			"pink",
			"skyblue",
			"turquoise",
			"darkmagenta"
		];
		var randomColor = "";
		var finished = false;
		var user_entry = "";
		var num_guesses = 0;

		// Main function
		function do_game() {

			//Sort the color names
			colors.sort();

			// Generate a random color from the defined set
			var randomNumber = (Math.random() * colors.length);
			randomColor = colors[Math.floor(randomNumber)];

			// Only for debugging
			console.log("Selected color is: " + randomColor);

			// Start game, don't finish until player guesses the color
			do {

				user_entry = prompt(
					"I am thinking of of of these colors:\n\n" + 
					colors.join(", ") + "\n\n" + "What color am I thinking of?"
				);

				// Increase the number of guesses
				num_guesses++;

				// Check the user input
				finished = check_guess();

			} while (!finished);

			// The game ended, set the random color as the background color
			document.body.style.backgroundColor = randomColor;
		}

		// Determine the type of feedback for 
		function check_guess() {

			// Check if the entered color is part of the array
			if (colors.indexOf(user_entry) == -1) {
				alert("I don't recognize that color");
				return false;
			} else if (user_entry > randomColor) {

				// Compare user input alphabetically with random color
				alert("Your input is alphabetically higher than mine!");
				return false;
			} else if (user_entry < randomColor) {
				alert("Your input is alphabetically lower than mine!");
				return false;
			} else if (user_entry == randomColor) {

				// Game is finished, the colors match!
				alert("You are right! You took " + num_guesses + " guesses!");
				return true;
			}
		}
	</script>
</body>
</html>